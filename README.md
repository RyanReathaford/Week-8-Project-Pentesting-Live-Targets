# Project 8 - Pentesting Live Targets

Time spent: **4** hours spent in total

> Objective: Identify vulnerabilities in three different versions of the Globitek website: blue, green, and red.

The six possible exploits are:
* Username Enumeration
* Insecure Direct Object Reference (IDOR)
* SQL Injection (SQLi)
* Cross-Site Scripting (XSS)
* Cross-Site Request Forgery (CSRF)
* Session Hijacking/Fixation

Each version of the site has been given two of the six vulnerabilities. (In other words, all six of the exploits should be assignable to one of the sites.)

## Blue

Vulnerability #1: SQL injection
	- https://imgur.com/a/USqR3
	
	- At the public/staff/salespeople/show.php?id=1 endpoint, SQL injection can be performed.  When the id=1 
	is changed to %27% the website returns a database query error. This lets us know that SQL injection 
	is getting through.  So replacing the id=1 with id=' OR SLEEP(5)=0--'.  This forced the SQL query to 
	pause for 5 seconds showing a successful injection attack.  

Vulnerability #2: Session Hijacking/Fixation
	- https://imgur.com/a/j92Qn
	
	- I performed session hijacking by logging in through Firefox and using the provided PHPSESSIONID tool 
	  provided to grab the session ID from that instance. I then went to another browser that was not logged
	  in and used the same tool to change the session ID to match the logged in session.  Once login was 
	  clicked I was able to bypass providing any credentials and went directly to the Staff Menu.


## Green

Vulnerability #1: User Enumeration
	- https://imgur.com/a/1ozBu
	
	  When trying to login with an exsisting account but incorrect password the site returns a bolded error 
	  message. If the username does not exsist, the error message will not be bold.  As seen in the GIF at 
	  the link above, when jmonroe99 is input it returns a bold error. Add one character and it returns a 
	  non-bolded error.  
Vulnerability #2: Cross-Site Scripting XSS
	- https://imgur.com/a/4ILMV
	
	- A user can input Javascript in between a pair of \<script> tags in the feeback section form.  
	  When an admin goes to check the feedback the code is executed.
	  \<script>alert("Do you know da wae?");</script>

## Red

Vulnerability #1: Insecure Direct Object Reference (IDOR)
	- https://imgur.com/a/VjTvZ
	
	- An IDOR vulnerability is present on the red site.  A user can change the id=XX to a number that will 
	  pull up deactivated accounts.  They are easy to find because the account id's are in order.  When 
	  you get to id number 10 it returns a salesperson that is not suppose to be public before September 
	  1st. If you change the id to 11, the site returns a salesperson that was fired for stealing. On the 
	  blue and green sites id 10 or 11 just returns you to the list of salespeople.  

Vulnerability #2: Cross-Site Request Forgery (CSRF)
	- https://imgur.com/a/wjmKO
	
	- By submitting a contact request and fishing an admin into clicking a link that leades to a blank page 
	  that contains hidden html, we can modify Ken Barker's profile as soon as the page is loaded.  The admin
	  will not know what happened until they view Ken's profile.  The code looks like this:
	 
\<html>
  \<head>
    \<title>No internets here</title>
  \</head>
  \<body onload="document.CSRF.submit()">
	\<form action="https://35.224.20.176/red/public/staff/salespeople/edit.php?id=5" method="post" style="display: none;" name='CSRF' target="res">
	    \<input type="text" name="first_name" value="The Real Ken Barker" />
      	\<input type="text" name="last_name" value="Just Got Played" />
      	\<input type="text" name="phone" value="555-867-5309" />
      	\<input type="text" name="email" value="youplayedyourself@HACKED.com" />
	\</form>
    \<iframe name="res" style="display: none;"></iframe>
  \</body>
\</html>


## Notes


Describe any challenges encountered while doing the work
The biggest challenge is trying to figure out what sites contain what vulnerabilities.
